<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>共享单车数据可视化分析系统</title>
    <!-- Bootstrap Styles-->
    <link th:href="@{/css/bootstrap.css}" rel="stylesheet" />
    <!-- FontAwesome Styles-->
    <link th:href="@{/css/font-awesome.css}" rel="stylesheet" />
    <!-- Custom Styles-->
    <link th:href="@{/css/custom-styles.css}" rel="stylesheet" />
    <!-- Google Fonts-->
    <link href='#css?family=Open+Sans' rel='stylesheet' type='text/css' />

    <style>
        p{ margin:0 auto}
        /* 设置p上下距离为0，左右自动 */
    </style>
    <style type="text/css">
        #page-inner{
            min-height: 595px
        }
        #page-wrapper{
            min-height: 595px
        }
        .animated {
            -webkit-animation-duration: 1s;
            animation-duration: 1s;
            -webkit-animation-fill-mode: both;
            animation-fill-mode: both; }
        @-webkit-keyframes fadeIn {
            from {
                opacity: 0; }
            to {
                opacity: 1; } }

        @keyframes fadeIn {
            from {
                opacity: 0; }
            to {
                opacity: 1; } }

        .fadeIn {
            -webkit-animation-name: fadeIn;
            animation-name: fadeIn; }

    </style>
</head>
<body>

<div id="wrapper">
    <nav class="navbar navbar-default top-navbar" role="navigation">
        <div class="navbar-header">
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".sidebar-collapse">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="index.html"><i class="fa fa-gear"></i> <strong style="font-size: 15px">共享单车数据可视化分析系统</strong></a>
        </div>

        <ul class="nav navbar-top-links navbar-right">

            <li class="dropdown">
                <a class="dropdown-toggle" data-toggle="dropdown" href="#" aria-expanded="false">
                    <i class="fa fa-user fa-fw"></i> <i class="fa fa-caret-down"></i>
                </a>
                <ul class="dropdown-menu dropdown-user">
                    <li><a href="#"><i class="fa fa-user fa-fw"></i> User Profile</a>
                    </li>
                    <li><a href="#"><i class="fa fa-gear fa-fw"></i> Settings</a>
                    </li>
                    <li class="divider"></li>
                    <li><a href="#"><i class="fa fa-sign-out fa-fw"></i> Logout</a>
                    </li>
                </ul>
                <!-- /.dropdown-user -->
            </li>
            <!-- /.dropdown -->
        </ul>
    </nav>
    <!--/. NAV TOP  -->
    <nav class="navbar-default navbar-side" role="navigation">
        <div id="sideNav" href=""><i class="fa fa-caret-right"></i></div>
        <div class="sidebar-collapse">
            <ul class="nav" >
                <li>
                    <a href="#"><i class="fa fa-sitemap"></i> 单车分析<span class="fa arrow"></span></a>
                    <ul class="nav nav-second-level">
                        <li>
                            <a href="index2.html">单车概况</a>
                        </li>
                        <li>
                            <a href="bike_detail2.html">单车详情</a>
                        </li>
                        <li>
                            <a href="bike_dist2.html">单车分布与高峰期分析</a>
                        </li>
                        <li>
                            <a href="analyseB2.html">单车数据分析</a>
                        </li>
                    </ul>
                </li>

                <li>
                    <a href="#"><i class="fa fa-sitemap"></i> 用户分析<span class="fa arrow"></span></a>
                    <ul class="nav nav-second-level">
                        <li>
                            <a href="newold2.html">用户概况</a>
                        </li>
                        <li>
                            <a href="personas2.html">用户画像</a>
                        </li>
                        <li>
                            <a href="analyseU2.html">用户数据分析</a>
                        </li>
                    </ul>
                </li>

                <li>
                    <a href="#"><i class="fa fa-sitemap"></i> 订单分析<span class="fa arrow"></span></a>
                    <ul class="nav nav-second-level">
                        <li>
                            <a href="order22.html">订单详情</a>
                        </li>

                    </ul>
                </li>

                <li>
                    <a href="#"><i class="fa fa-sitemap"></i> 反馈与预警<span class="fa arrow"></span></a>
                    <ul class="nav nav-second-level">
                        <li>
                            <a href="response2.html">用户反馈</a>
                        </li>
                        <li>
                            <a href="warn2.html">警示信息</a>
                        </li>

                    </ul>
                </li>
            </ul>

        </div>

    </nav>
</div>
<!-- /. NAV SIDE  -->

<div id="page-wrapper" >
    <div class="row">
        <div  style="float: right;margin-top:0">
            <button type="button" class="btn-sm btn"  id="button1"  onclick="change()" style="border-radius: 50px;outline: none;width:60px;height: 32px;border: none;background-color:#D3D3D3;"><span style="color: black">武汉</span></button>
            <button type="button" class="btn-sm btn"  id="button2"  onclick="change2()" style="border-radius: 50px;outline: none;width:60px;height: 32px;border: none;background-color:#24c2ce;"><span style="color: black"><span style="color: black">北京</span></span></button>
        </div>
    </div>

    <div class="row">
        <div class="col-md-12">
            <h1 class="page-header">
                Personas <small>Nice Customer Portrait</small>
            </h1>
        </div>
    </div>

    <div class="animated fadeIn">
    <div id="page-inner">


        <!-- /. ROW  -->
        <div class="row">
            <div class="layui-tab layui-tab-card">

                <div class="layui-tab-content">
                    <div class="col-md-12">
                        <div class="panel-body">
                            <div class="panel-group" id="accordion">
                                <div class="panel panel-default">
                                    <div class="panel-heading">
                                        <h4 class="panel-heading" style="margin-top: 0px">
                                            <a data-toggle="collapse" data-parent="#accordion" href="#collapseOne"> 忠诚用户 </a>
                                        </h4>
                                    </div>
                                    <div id="collapseOne" class="panel-collapse in" style="height: auto;">
                                        <div class="panel-body">

                                            <div class="col-md-2 col-sm-2">
                                                <div id="b1" style="width: 100%;height: 330px"></div>
                                            </div>
                                            <div class="col-md-4 col-sm-4" style="margin-top: 20px">
                                                <div class="panel panel-info">

                                                    <div class="panel-body">
                                                        <p style="float: left">&nbsp;&nbsp;&nbsp;&nbsp;年龄段</p>
                                                        <p style="margin-left:70%;color:#ff6600" th:text="${cell1}"></p>
                                                        <hr style="margin-top:0;margin-bottom:0">
                                                        <p style="float: left">&nbsp;&nbsp;&nbsp;&nbsp;每月骑行次数：</p>
                                                        <p style="margin-left:70%;color:#cc3300" th:text="${cell2}"></p>
                                                        <hr style="margin-top:0;margin-bottom:0">
                                                        <p style="float: left">&nbsp;&nbsp;&nbsp;&nbsp;单次骑行时间：</p>
                                                        <p style="margin-left:70%;color:#cc3300" th:text="${cell3}"></p>
                                                        <hr style="margin-top:0;margin-bottom:0">
                                                        <p style="float: left">&nbsp;&nbsp;&nbsp;&nbsp;单次骑行里程：</p>
                                                        <p style="margin-left:70%;color:#ff3399" th:text="${cell4}"></p>
                                                        <hr style="margin-top:0;margin-bottom:0">
                                                        <p style="float: left">&nbsp;&nbsp;&nbsp;&nbsp;每月消费：</p>
                                                        <p style="margin-left:70%;color:#ff6600" th:text="${cell5}"></p>
                                                        <hr style="margin-top:0;margin-bottom:0">
                                                    </div>
                                                </div>
                                            </div>
                                            <div >
                                                <canvas id="canvas" class="col-md-2" height="600"></canvas>
                                            </div>
                                            <div class="col-md-4 col-sm-4" style="padding-left: 0;padding-right: 0;padding-top: 20px">
                                                <div id="b2" style="width:350px;height: 280px"></div>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <div class="panel panel-default">
                                    <div class="panel-heading">
                                        <h4 class="panel-heading" style="margin-top: 0px">
                                            <a data-toggle="collapse" data-parent="#accordion" href="#collapseTwo"> 活跃用户 </a>
                                        </h4>
                                    </div>
                                    <div id="collapseTwo" class="panel-collapse in" style="height: auto;">
                                        <div class="panel-body">
                                            <div class="col-md-2 col-sm-2">
                                                <div id="b3" style="width: 100%;height: 330px"></div>
                                            </div>
                                            <div class="col-md-4 col-sm-4"  style="margin-top: 20px">
                                                <div class="panel panel-info">

                                                    <div class="panel-body">

                                                        <p style="float: left">&nbsp;&nbsp;&nbsp;&nbsp;年龄段</p>
                                                        <p style="margin-left:70%;color:#ff6600" th:text="${cell6}"></p>
                                                        <hr style="margin-top:0;margin-bottom:0">
                                                        <p style="float: left">&nbsp;&nbsp;&nbsp;&nbsp;每月骑行次数：</p>
                                                        <p style="margin-left:70%;color:#cc3300" th:text="${cell7}"></p>
                                                        <hr style="margin-top:0;margin-bottom:0">
                                                        <p style="float: left">&nbsp;&nbsp;&nbsp;&nbsp;单次骑行时间：</p>
                                                        <p style="margin-left:70%;color:#cc3300" th:text="${cell8}"></p>
                                                        <hr style="margin-top:0;margin-bottom:0">
                                                        <p style="float: left">&nbsp;&nbsp;&nbsp;&nbsp;单次骑行里程：</p>
                                                        <p style="margin-left:70%;color:#ff3399" th:text="${cell9}"></p>
                                                        <hr style="margin-top:0;margin-bottom:0">
                                                        <p style="float: left">&nbsp;&nbsp;&nbsp;&nbsp;每月消费：</p>
                                                        <p style="margin-left:70%;color:#ff6600" th:text="${cell10}"></p>
                                                        <hr style="margin-top:0;margin-bottom:0">
                                                    </div>
                                                </div>
                                            </div>
                                            <div >
                                                <canvas id="canvas1" class="col-md-2" height="570"></canvas>
                                            </div>
                                            <div class="col-md-4 col-sm-4" style="padding-right: 0;padding-left:0;padding-top: 20px">
                                                <div id="b4" style="width:350px;height: 280px"></div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="panel panel-default">
                                    <div class="panel-heading">
                                        <h4 class="panel-heading" style="margin-top: 0px">
                                            <a data-toggle="collapse" data-parent="#accordion" href="#collapseThree"> 有效用户（1） </a>
                                        </h4>
                                    </div>
                                    <div id="collapseThree" class="panel-collapse in">
                                        <div class="panel-body">
                                            <div class="col-md-2 col-sm-2">
                                                <div id="b5" style="width: 100%;height: 330px"></div>
                                            </div>
                                            <div class="col-md-4 col-sm-4" style="margin-top: 20px">
                                                <div class="panel panel-info">
                                                    <div class="panel-body">
                                                        <p style="float: left">&nbsp;&nbsp;&nbsp;&nbsp;年龄段</p>
                                                        <p style="margin-left:70%;color:#ff6600" th:text="${cell11}"></p>
                                                        <hr style="margin-top:0;margin-bottom:0">
                                                        <p style="float: left">&nbsp;&nbsp;&nbsp;&nbsp;每月骑行次数：</p>
                                                        <p style="margin-left:70%;color:#cc3300" th:text="${cell12}"></p>
                                                        <hr style="margin-top:0;margin-bottom:0">
                                                        <p style="float: left">&nbsp;&nbsp;&nbsp;&nbsp;单次骑行时间：</p>
                                                        <p style="margin-left:70%;color:#cc3300" th:text="${cell13}"></p>
                                                        <hr style="margin-top:0;margin-bottom:0">
                                                        <p style="float: left">&nbsp;&nbsp;&nbsp;&nbsp;单次骑行里程：</p>
                                                        <p style="margin-left:70%;color:#ff3399" th:text="${cell14}"></p>
                                                        <hr style="margin-top:0;margin-bottom:0">
                                                        <p style="float: left">&nbsp;&nbsp;&nbsp;&nbsp;每月消费：</p>
                                                        <p style="margin-left:70%;color:#ff6600" th:text="${cell15}"></p>
                                                        <hr style="margin-top:0;margin-bottom:0">
                                                    </div>
                                                </div>
                                            </div>
                                            <div >
                                                <canvas id="canvas2" class="col-md-2" height="570"></canvas>
                                            </div>
                                            <div class="col-md-4 col-sm-4" style="padding-left:0;padding-right: 0;padding-top: 20px">
                                                <div id="b6" style="width:100%;height: 280px"></div>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <div class="panel panel-default">
                                    <div class="panel-heading">
                                        <h4 class="panel-heading" style="margin-top: 0px">
                                            <a data-toggle="collapse" data-parent="#accordion" href="#collapseFour"> 有效用户（2） </a>
                                        </h4>
                                    </div>
                                    <div id="collapseFour" class="panel-collapse in" style="height: auto;">
                                        <div class="panel-body">

                                            <div class="col-md-2 col-sm-2">
                                                <div id="b7" style="width: 100%;height: 330px"></div>
                                            </div>
                                            <div class="col-md-4 col-sm-4" style="margin-top: 20px">
                                                <div class="panel panel-info">

                                                    <div class="panel-body">
                                                        <p style="float: left">&nbsp;&nbsp;&nbsp;&nbsp;年龄段</p>
                                                        <p style="margin-left:70%;color:#ff6600" th:text="${cell16}"></p>
                                                        <hr style="margin-top:0;margin-bottom:0">
                                                        <p style="float: left">&nbsp;&nbsp;&nbsp;&nbsp;每月骑行次数：</p>
                                                        <p style="margin-left:70%;color:#cc3300" th:text="${cell17}"></p>
                                                        <hr style="margin-top:0;margin-bottom:0">
                                                        <p style="float: left">&nbsp;&nbsp;&nbsp;&nbsp;单次骑行时间：</p>
                                                        <p style="margin-left:70%;color:#cc3300" th:text="${cell18}"></p>
                                                        <hr style="margin-top:0;margin-bottom:0">
                                                        <p style="float: left">&nbsp;&nbsp;&nbsp;&nbsp;单次骑行里程：</p>
                                                        <p style="margin-left:70%;color:#ff3399" th:text="${cell19}"></p>
                                                        <hr style="margin-top:0;margin-bottom:0">
                                                        <p style="float: left">&nbsp;&nbsp;&nbsp;&nbsp;每月消费：</p>
                                                        <p style="margin-left:70%;color:#ff6600" th:text="${cell20}"></p>
                                                        <hr style="margin-top:0;margin-bottom:0">
                                                    </div>
                                                </div>
                                            </div>
                                            <div >
                                                <canvas id="canvas3" class="col-md-2" height="600"></canvas>
                                            </div>
                                            <div class="col-md-4 col-sm-4" style="padding-left: 0;padding-right: 0;padding-top: 20px">
                                                <div id="b8" style="width:350px;height: 280px"></div>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <div class="panel panel-default">
                                    <div class="panel-heading">
                                        <h4 class="panel-heading" style="margin-top: 0px">
                                            <a data-toggle="collapse" data-parent="#accordion" href="#collapseFive"> 沉睡用户 </a>
                                        </h4>
                                    </div>
                                    <div id="collapseFive" class="panel-collapse in" style="height: auto;">
                                        <div class="panel-body">

                                            <div class="col-md-2 col-sm-2">
                                                <div id="b9" style="width: 100%;height: 330px"></div>
                                            </div>
                                            <div class="col-md-4 col-sm-4" style="margin-top: 20px">
                                                <div class="panel panel-info">

                                                    <div class="panel-body">
                                                        <p style="float: left">&nbsp;&nbsp;&nbsp;&nbsp;年龄段</p>
                                                        <p style="margin-left:70%;color:#ff6600" th:text="${cell21}"></p>
                                                        <hr style="margin-top:0;margin-bottom:0">
                                                        <p style="float: left">&nbsp;&nbsp;&nbsp;&nbsp;每月骑行次数：</p>
                                                        <p style="margin-left:70%;color:#cc3300" th:text="${cell22}"></p>
                                                        <hr style="margin-top:0;margin-bottom:0">
                                                        <p style="float: left">&nbsp;&nbsp;&nbsp;&nbsp;单次骑行时间：</p>
                                                        <p style="margin-left:70%;color:#cc3300" th:text="${cell23}"></p>
                                                        <hr style="margin-top:0;margin-bottom:0">
                                                        <p style="float: left">&nbsp;&nbsp;&nbsp;&nbsp;单次骑行里程：</p>
                                                        <p style="margin-left:70%;color:#ff3399" th:text="${cell24}"></p>
                                                        <hr style="margin-top:0;margin-bottom:0">
                                                        <p style="float: left">&nbsp;&nbsp;&nbsp;&nbsp;每月消费：</p>
                                                        <p style="margin-left:70%;color:#ff6600" th:text="${cell25}"></p>
                                                        <hr style="margin-top:0;margin-bottom:0">
                                                    </div>
                                                </div>
                                            </div>
                                            <div >
                                                <canvas id="canvas4" class="col-md-2" height="600"></canvas>
                                            </div>
                                            <div class="col-md-4 col-sm-4" style="padding-left: 0;padding-right: 0;padding-top: 20px">
                                                <div id="b10" style="width:350px;height: 280px"></div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>


                        </div>


                    </div>
                    <!-- /. ROW  -->


                </div>

                <footer><p>Copyright &copy; 2020.Company name All rights reserved.</footer>
            </div>
            <!-- /. PAGE INNER  -->
        </div>
    </div>
</div>
<!-- /. PAGE WRAPPER  -->
</div>
<!-- /. WRAPPER  -->
<!-- JS Scripts-->
<!-- jQuery Js -->
<script th:src="@{/js/jquery-1.10.2.js}"></script>
<!-- Bootstrap Js -->
<script th:src="@{/js/bootstrap.min.js}"></script>
<!-- Metis Menu Js -->
<script th:src="@{/js/jquery.metisMenu.js}"></script>
<!-- Custom Js -->
<script th:src="@{/js/custom-scripts.js}"></script>
<script th:src="@{/js/echarts.js}"></script>


<script type="text/javascript">
    window.onload=function(){
        document.getElementById("button1").style.background="#24c2ce";
    }
</script>

<script type="text/javascript">
    function change() {

        document.getElementById("button1").style.background="#24c2ce";
        document.getElementById("button2").style.background="#D3D3D3";
        window.location.href="personas.html";
    }

    function change2() {
        document.getElementById("button1").style.background="#D3D3D3";
        document.getElementById("button2").style.background="#24c2ce";

    }
</script>

<script type="text/javascript">
    var p1 = [[${percent1}]]
    var option = {

        title:{
            text: '该类用户占比',
            y:'bottom',
            left: 'center',
            textStyle:{
                fontSize:13
            },
            padding: 70
        },

        tooltip: {
            formatter: '{a} <br/>{b} : {c}%'
        },

        series: [
            {
                name: '业务指标',
                type: 'gauge',
                detail: {formatter: '{value}%'},
                data: [{value: p1}],
                axisLine: {
                    show: true,
                    lineStyle: {

                        width: 10,
                        shadowBlur: 20,
                        shadowColor: "#fff",

                    }
                },
                detail: {
                    show: true,
                    offsetCenter: [0,"50%"],
                    color: "auto",
                    fontSize: 30,
                    formatter: "{value}%",
                },
                title: {
                    show: true,
                    offsetCenter: [0,"20%"],
                    color: "#fff",
                    fontSize: 20,

                },
                splitLine: {           // 分隔线
                    // 默认显示，属性show控制显示与否
                    length :10         // 属性length控制线长

                },
                detail: {              // 仪表盘详情，用于显示数据。
                    show: true,             // 是否显示详情,默认 true。
                    offsetCenter: [0,"85%"],// 相对于仪表盘中心的偏移位置，数组第一项是水平方向的偏移，第二项是垂直方向的偏移。可以是绝对的数值，也可以是相对于仪表盘半径的百分比。
                    color: "auto",          // 文字的颜色,默认 auto。
                    fontSize: 25,           // 文字的字体大小,默认 15。
                    formatter: "{value}%",  // 格式化函数或者字符串
                },
                pointer: {              // 仪表盘指针。
                    show: true,             // 是否显示指针,默认 true。
                    length: "60%",          // 指针长度，可以是绝对数值，也可以是相对于半径的百分比,默认 80%。
                    width: 5,               // 指针宽度,默认 8。
                },
                axisLabel: {            // 刻度标签。
                    show: true,             // 是否显示标签,默认 true。
                    distance: 5,            // 标签与刻度线的距离,默认 5。
                    // 文字的颜色,默认 #fff。
                    fontSize: 9,           // 文字的字体大小,默认 5。
                    formatter: "{value}",   // 刻度标签的内容格式器，支持字符串模板和回调函数两种形式。 示例:// 使用字符串模板，模板变量为刻度默认标签 {value},如:formatter: '{value} kg'; // 使用函数模板，函数参数分别为刻度数值,如formatter: function (value) {return value + 'km/h';}
                }
            }

        ]
    };

    var myChart = echarts.init(document.getElementById('b1'));
    myChart.setOption(option);

</script>

<script type="text/javascript">
    var user1 = [[${cellList1}]]
    var user1_ = [0,0,0,0,0]
    user1_[0] = user1[2]
    user1_[1] = user1[0]
    user1_[2] = user1[3]
    user1_[3] = user1[1]
    user1_[4] = user1[4]
    var option1 = {

        tooltip: {},

        radar: {
            // shape: 'circle',
            name: {
                textStyle: {
                    color: '#fff',
                    backgroundColor: '#999',
                    borderRadius: 3,
                    padding: [3, 5]
                }
            },
            indicator: [
                { name: '骑行平均时间', max: 2, min: -1},
                { name: '用户年龄', max: 2, min: -1},
                { name: '骑行平均路程', max: 2, min: -1},
                { name: '骑行平均次数', max: 2, min: -1},
                { name: '用户消费', max: 2, min: -1}
            ]
        },
        series: [{

            type: 'radar',
            // areaStyle: {normal: {}},
            data: [
                {
                    value: user1_,
                    areaStyle: {
                        normal: {
                            color: 'rgba(0, 255, 255, 0.8)' // 选择区域颜色
                        }
                    }
                }
            ]
        }]
    };

    var myChart1 = echarts.init(document.getElementById('b2'));
    myChart1.setOption(option1);

</script>

<script type="text/javascript">
    var p2 = [[${percent2}]]
    var option = {

        title:{
            text: '该类用户占比',
            y:'bottom',
            left: 'center',
            textStyle:{
                fontSize:13
            },
            padding: 70
        },

        tooltip: {
            formatter: '{a} <br/>{b} : {c}%'
        },

        series: [
            {
                name: '业务指标',
                type: 'gauge',
                detail: {formatter: '{value}%'},
                data: [{value: p2}],
                axisLine: {
                    show: true,
                    lineStyle: {
                        width: 10,
                        shadowBlur: 20,
                        shadowColor: "#fff",

                    }
                },
                detail: {
                    show: true,
                    offsetCenter: [0,"50%"],
                    color: "auto",
                    fontSize: 30,
                    formatter: "{value}%",
                },
                title: {
                    show: true,
                    offsetCenter: [0,"20%"],
                    color: "#fff",
                    fontSize: 20,

                },
                splitLine: {           // 分隔线
                    // 默认显示，属性show控制显示与否
                    length :10         // 属性length控制线长

                },
                detail: {              // 仪表盘详情，用于显示数据。
                    show: true,             // 是否显示详情,默认 true。
                    offsetCenter: [0,"85%"],// 相对于仪表盘中心的偏移位置，数组第一项是水平方向的偏移，第二项是垂直方向的偏移。可以是绝对的数值，也可以是相对于仪表盘半径的百分比。
                    color: "auto",          // 文字的颜色,默认 auto。
                    fontSize: 25,           // 文字的字体大小,默认 15。
                    formatter: "{value}%",  // 格式化函数或者字符串
                },
                pointer: {              // 仪表盘指针。
                    show: true,             // 是否显示指针,默认 true。
                    length: "60%",          // 指针长度，可以是绝对数值，也可以是相对于半径的百分比,默认 80%。
                    width: 5,               // 指针宽度,默认 8。
                },
                axisLabel: {            // 刻度标签。
                    show: true,             // 是否显示标签,默认 true。
                    distance: 5,            // 标签与刻度线的距离,默认 5。
                    // 文字的颜色,默认 #fff。
                    fontSize: 9,           // 文字的字体大小,默认 5。
                    formatter: "{value}",   // 刻度标签的内容格式器，支持字符串模板和回调函数两种形式。 示例:// 使用字符串模板，模板变量为刻度默认标签 {value},如:formatter: '{value} kg'; // 使用函数模板，函数参数分别为刻度数值,如formatter: function (value) {return value + 'km/h';}
                }
            }

        ]
    };

    var myChart3 = echarts.init(document.getElementById('b3'));
    myChart3.setOption(option);

</script>

<script type="text/javascript">
    var user2 = [[${cellList2}]]
    var user2_ = [0,0,0,0,0]
    user2_[0] = user2[2]
    user2_[1] = user2[0]
    user2_[2] = user2[3]
    user2_[3] = user2[1]
    user2_[4] = user2[4]
    var option1 = {

        tooltip: {},

        radar: {
            // shape: 'circle',
            name: {
                textStyle: {
                    color: '#fff',
                    backgroundColor: '#999',
                    borderRadius: 3,
                    padding: [3, 5]
                }
            },
            indicator: [
                { name: '骑行平均时间', max: 2, min: -1},
                { name: '用户年龄', max: 2, min: -1},
                { name: '骑行平均路程', max: 2, min: -1},
                { name: '骑行平均次数', max: 2, min: -1},
                { name: '用户消费', max: 2, min: -1}
            ]
        },
        series: [{

            type: 'radar',
            // areaStyle: {normal: {}},
            data: [
                {
                    value: user2_,
                    areaStyle: {
                        normal: {
                            color: 'rgba(0, 255, 255, 0.8)' // 选择区域颜色
                        }
                    }
                }
            ]
        }]
    };

    var myChart4 = echarts.init(document.getElementById('b4'));
    myChart4.setOption(option1);

</script>

<script type="text/javascript">
    p3 = [[${percent3}]]
    var option = {
        title:{
            text: '该类用户占比',
            y:'bottom',
            left: 'center',
            textStyle:{
                fontSize:13
            },
            padding: 70
        },

        tooltip: {
            formatter: '{a} <br/>{b} : {c}%'
        },

        series: [
            {
                name: '业务指标',
                type: 'gauge',
                detail: {formatter: '{value}%'},
                data: [{value: p3}],
                axisLine: {
                    show: true,
                    lineStyle: {
                        width: 10,
                        shadowBlur: 20,
                        shadowColor: "#fff",
                    }
                },
                detail: {
                    show: true,
                    offsetCenter: [0,"50%"],
                    color: "auto",
                    fontSize: 30,
                    formatter: "{value}%",
                },
                title: {
                    show: true,
                    offsetCenter: [0,"20%"],
                    color: "#fff",
                    fontSize: 20,

                },
                splitLine: {           // 分隔线
                    // 默认显示，属性show控制显示与否
                    length :10         // 属性length控制线长

                },
                detail: {              // 仪表盘详情，用于显示数据。
                    show: true,             // 是否显示详情,默认 true。
                    offsetCenter: [0,"85%"],// 相对于仪表盘中心的偏移位置，数组第一项是水平方向的偏移，第二项是垂直方向的偏移。可以是绝对的数值，也可以是相对于仪表盘半径的百分比。
                    color: "auto",          // 文字的颜色,默认 auto。
                    fontSize: 25,           // 文字的字体大小,默认 15。
                    formatter: "{value}%",  // 格式化函数或者字符串
                },
                pointer: {              // 仪表盘指针。
                    show: true,             // 是否显示指针,默认 true。
                    length: "60%",          // 指针长度，可以是绝对数值，也可以是相对于半径的百分比,默认 80%。
                    width: 5,               // 指针宽度,默认 8。
                },
                axisLabel: {            // 刻度标签。
                    show: true,             // 是否显示标签,默认 true。
                    distance: 5,            // 标签与刻度线的距离,默认 5。
                    // 文字的颜色,默认 #fff。
                    fontSize: 9,           // 文字的字体大小,默认 5。
                    formatter: "{value}",   // 刻度标签的内容格式器，支持字符串模板和回调函数两种形式。 示例:// 使用字符串模板，模板变量为刻度默认标签 {value},如:formatter: '{value} kg'; // 使用函数模板，函数参数分别为刻度数值,如formatter: function (value) {return value + 'km/h';}
                }
            }

        ]
    };

    var myChart5 = echarts.init(document.getElementById('b5'));
    myChart5.setOption(option);

</script>

<script type="text/javascript">
    var user3 = [[${cellList3}]]
    var user3_ = [0,0,0,0,0]
    user3_[0] = user3[2]
    user3_[1] = user3[0]
    user3_[2] = user3[3]
    user3_[3] = user3[1]
    user3_[4] = user3[4]
    var option1 = {

        tooltip: {},

        radar: {
            // shape: 'circle',
            name: {
                textStyle: {
                    color: '#fff',
                    backgroundColor: '#999',
                    borderRadius: 3,
                    padding: [3, 5]
                }
            },
            indicator: [
                { name: '骑行平均时间', max: 2, min: -1},
                { name: '用户年龄', max: 2, min: -1},
                { name: '骑行平均路程', max: 2, min: -1},
                { name: '骑行平均次数', max: 2, min: -1},
                { name: '用户消费', max: 2, min: -1}
            ]
        },
        series: [{
            type: 'radar',
            // areaStyle: {normal: {}},
            data: [
                {
                    value: user3_,
                    areaStyle: {
                        normal: {
                            color: 'rgba(0, 255, 255, 0.8)' // 选择区域颜色
                        }
                    }
                }
            ]
        }]
    };

    var myChart6 = echarts.init(document.getElementById('b6'));
    myChart6.setOption(option1);

</script>

<script type="text/javascript">
    p4 = [[${percent4}]]
    var option = {
        title:{
            text: '该类用户占比',
            y:'bottom',
            left: 'center',
            textStyle:{
                fontSize:13
            },
            padding: 70
        },

        tooltip: {
            formatter: '{a} <br/>{b} : {c}%'
        },

        series: [
            {
                name: '业务指标',
                type: 'gauge',
                detail: {formatter: '{value}%'},
                data: [{value: p4}],
                axisLine: {
                    show: true,
                    lineStyle: {
                        width: 10,
                        shadowBlur: 20,
                        shadowColor: "#fff",
                    }
                },
                detail: {
                    show: true,
                    offsetCenter: [0,"50%"],
                    color: "auto",
                    fontSize: 30,
                    formatter: "{value}%",
                },
                title: {
                    show: true,
                    offsetCenter: [0,"20%"],
                    color: "#fff",
                    fontSize: 20,

                },
                splitLine: {           // 分隔线
                    // 默认显示，属性show控制显示与否
                    length :10         // 属性length控制线长

                },
                detail: {              // 仪表盘详情，用于显示数据。
                    show: true,             // 是否显示详情,默认 true。
                    offsetCenter: [0,"85%"],// 相对于仪表盘中心的偏移位置，数组第一项是水平方向的偏移，第二项是垂直方向的偏移。可以是绝对的数值，也可以是相对于仪表盘半径的百分比。
                    color: "auto",          // 文字的颜色,默认 auto。
                    fontSize: 25,           // 文字的字体大小,默认 15。
                    formatter: "{value}%",  // 格式化函数或者字符串
                },
                pointer: {              // 仪表盘指针。
                    show: true,             // 是否显示指针,默认 true。
                    length: "60%",          // 指针长度，可以是绝对数值，也可以是相对于半径的百分比,默认 80%。
                    width: 5,               // 指针宽度,默认 8。
                },
                axisLabel: {            // 刻度标签。
                    show: true,             // 是否显示标签,默认 true。
                    distance: 5,            // 标签与刻度线的距离,默认 5。
                    // 文字的颜色,默认 #fff。
                    fontSize: 9,           // 文字的字体大小,默认 5。
                    formatter: "{value}",   // 刻度标签的内容格式器，支持字符串模板和回调函数两种形式。 示例:// 使用字符串模板，模板变量为刻度默认标签 {value},如:formatter: '{value} kg'; // 使用函数模板，函数参数分别为刻度数值,如formatter: function (value) {return value + 'km/h';}
                }
            }

        ]
    };

    var myChart7 = echarts.init(document.getElementById('b7'));
    myChart7.setOption(option);

</script>

<script type="text/javascript">
    var user4 = [[${cellList4}]]
    var user4_ = [0,0,0,0,0]
    user4_[0] = user4[2]
    user4_[1] = user4[0]
    user4_[2] = user4[3]
    user4_[3] = user4[1]
    user4_[4] = user4[4]
    var option1 = {

        tooltip: {},

        radar: {
            // shape: 'circle',
            name: {
                textStyle: {
                    color: '#fff',
                    backgroundColor: '#999',
                    borderRadius: 3,
                    padding: [3, 5]
                }
            },
            indicator: [
                { name: '骑行平均时间', max: 2, min: -1},
                { name: '用户年龄', max: 2, min: -1},
                { name: '骑行平均路程', max: 2, min: -1},
                { name: '骑行平均次数', max: 2, min: -1},
                { name: '用户消费', max: 2, min: -1}
            ]
        },
        series: [{
            type: 'radar',
            // areaStyle: {normal: {}},
            data: [
                {
                    value: user4_,
                    areaStyle: {
                        normal: {
                            color: 'rgba(0, 255, 255, 0.8)' // 选择区域颜色
                        }
                    }
                }
            ]
        }]
    };

    var myChart8 = echarts.init(document.getElementById('b8'));
    myChart8.setOption(option1);

</script>

<script type="text/javascript">
    p5 = [[${percent5}]]
    var option = {
        title:{
            text: '该类用户占比',
            y:'bottom',
            left: 'center',
            textStyle:{
                fontSize:13
            },
            padding: 70
        },

        tooltip: {
            formatter: '{a} <br/>{b} : {c}%'
        },

        series: [
            {
                name: '业务指标',
                type: 'gauge',
                detail: {formatter: '{value}%'},
                data: [{value: p5}],
                axisLine: {
                    show: true,
                    lineStyle: {
                        width: 10,
                        shadowBlur: 20,
                        shadowColor: "#fff",
                    }
                },
                detail: {
                    show: true,
                    offsetCenter: [0,"50%"],
                    color: "auto",
                    fontSize: 30,
                    formatter: "{value}%",
                },
                title: {
                    show: true,
                    offsetCenter: [0,"20%"],
                    color: "#fff",
                    fontSize: 20,

                },
                splitLine: {           // 分隔线
                    // 默认显示，属性show控制显示与否
                    length :10         // 属性length控制线长

                },
                detail: {              // 仪表盘详情，用于显示数据。
                    show: true,             // 是否显示详情,默认 true。
                    offsetCenter: [0,"85%"],// 相对于仪表盘中心的偏移位置，数组第一项是水平方向的偏移，第二项是垂直方向的偏移。可以是绝对的数值，也可以是相对于仪表盘半径的百分比。
                    color: "auto",          // 文字的颜色,默认 auto。
                    fontSize: 25,           // 文字的字体大小,默认 15。
                    formatter: "{value}%",  // 格式化函数或者字符串
                },
                pointer: {              // 仪表盘指针。
                    show: true,             // 是否显示指针,默认 true。
                    length: "60%",          // 指针长度，可以是绝对数值，也可以是相对于半径的百分比,默认 80%。
                    width: 5,               // 指针宽度,默认 8。
                },
                axisLabel: {            // 刻度标签。
                    show: true,             // 是否显示标签,默认 true。
                    distance: 5,            // 标签与刻度线的距离,默认 5。
                    // 文字的颜色,默认 #fff。
                    fontSize: 9,           // 文字的字体大小,默认 5。
                    formatter: "{value}",   // 刻度标签的内容格式器，支持字符串模板和回调函数两种形式。 示例:// 使用字符串模板，模板变量为刻度默认标签 {value},如:formatter: '{value} kg'; // 使用函数模板，函数参数分别为刻度数值,如formatter: function (value) {return value + 'km/h';}
                }
            }

        ]
    };

    var myChart9 = echarts.init(document.getElementById('b9'));
    myChart9.setOption(option);

</script>

<script type="text/javascript">
    var user5 = [[${cellList5}]]
    var user5_ = [0,0,0,0,0]
    user5_[0] = user5[2]
    user5_[1] = user5[0]
    user5_[2] = user5[3]
    user5_[3] = user5[1]
    user5_[4] = user5[4]
    var option1 = {

        tooltip: {},

        radar: {
            // shape: 'circle',
            name: {
                textStyle: {
                    color: '#fff',
                    backgroundColor: '#999',
                    borderRadius: 3,
                    padding: [3, 5]
                }
            },
            indicator: [
                { name: '骑行平均时间', max: 2, min: -1},
                { name: '用户年龄', max: 2, min: -1},
                { name: '骑行平均路程', max: 2, min: -1},
                { name: '骑行平均次数', max: 2, min: -1},
                { name: '用户消费', max: 2, min: -1}
            ]
        },
        series: [{
            type: 'radar',
            // areaStyle: {normal: {}},
            data: [
                {
                    value: user5_,
                    areaStyle: {
                        normal: {
                            color: 'rgba(0, 255, 255, 0.8)' // 选择区域颜色
                        }
                    }
                }
            ]
        }]
    };

    var myChart10 = echarts.init(document.getElementById('b10'));
    myChart10.setOption(option1);

</script>


<script type="text/javascript">
    window.addEventListener("resize", function () {
        myChart1.resize();
        myChart.resize();
        myChart3.resize();
        myChart4.resize();
        myChart5.resize();
        myChart6.resize();    });
</script>

<script>

    function f0(){

        const canvas = document.getElementById('canvas')
        const ctx = canvas.getContext('2d')
        const ctx1=canvas.getContext('2d')



        class Ball {
            constructor(x, y, radius) {
                this.x = x
                this.y = y
                this.radius = radius
                this.angle = Math.random() * 180
                this.speed = 1
                this.flag = false
            }

            draw(ctx,color,center1,center2,m) {
                ctx.beginPath()
                ctx.arc(this.x, this.y, this.radius, 0, 2 * Math.PI)
                ctx.closePath()
                ctx.fillStyle = color
                ctx.fill()

                ctx1.font="17pt Calibri"
                ctx1.fillStyle = 'black'
                ctx1.textAlign = 'center'

                ctx1.fillText(m,center1,center2)
            }
        }


        const balls = []
        while (balls.length < 4) {
            const radius = Math.random() * 10 + 60 // 10 ~ 30
            const x = Math.random() * (canvas.width - radius - radius) + radius
            const y = Math.random() * (canvas.height - radius - radius) + radius

            let flag = true
            for (let i = 0; i < balls.length; i++) {
                const dx = x - balls[i].x
                const dy = y - balls[i].y
                const dl = Math.sqrt(dx * dx + dy * dy)
                if (dl <= radius + balls[i].radius) {
                    flag = false
                }
            }
            if (flag) {
                balls.push(new Ball(x, y, radius))
            }
        }

        function drawFrame () {
            window.requestAnimationFrame(drawFrame, canvas)
            canvas.height = canvas.height




            for (let i = 0; i < balls.length; i++) {
                const ball = balls[i]


                for (let j = i + 1; j < balls.length; j++) {
                    const dx = ball.x - balls[j].x
                    const dy = ball.y - balls[j].y
                    const dl = Math.sqrt(dx * dx + dy * dy)
                    if (dl <= ball.radius + balls[j].radius) {
                        ball.flag === false ? ball.angle = ball.angle - 180 : ''
                        balls[j].flag === false ? balls[j].angle = balls[j].angle - 180 : ''
                        ball.flag = balls[j].flag = true
                    }
                }


                if (ball.flag === false) {
                    if (ball.x + ball.radius > canvas.width) {
                        ball.angle = 180 - ball.angle
                    }
                    if (ball.x - ball.radius < 0) {
                        ball.angle = -(180 + ball.angle)
                    }
                    if (ball.y - ball.radius < 0 || ball.y + ball.radius > canvas.height) {
                        ball.angle = -ball.angle
                    }
                }

                ball.x += ball.speed * Math.cos(ball.angle * Math.PI / 180)
                ball.y -= ball.speed * Math.sin(ball.angle * Math.PI / 180)

                var colors=new Array(4)
                colors[0]='#EE82EE'
                colors[1]='orange'
                colors[2]='#87CEFA'
                colors[3]='yellow'

                var center1=ball.x
                var center2=ball.y

                var text=['骑行次数多','骑行路程长','骑行时间长','消费高']
                var m=text[i]
                ball.draw(ctx,colors[i],center1,center2,m)
                ball.flag = false
            }
        }

        drawFrame()
    }

</script>

<script>

    function f1(){

        const canvas = document.getElementById('canvas1')
        const ctx = canvas.getContext('2d')
        const ctx1=canvas.getContext('2d')



        class Ball {
            constructor(x, y, radius) {
                this.x = x
                this.y = y
                this.radius = radius
                this.angle = Math.random() * 180
                this.speed = 1
                this.flag = false
            }

            draw(ctx,color,center1,center2,m) {
                ctx.beginPath()
                ctx.arc(this.x, this.y, this.radius, 0, 2 * Math.PI)
                ctx.closePath()
                ctx.fillStyle = color
                ctx.fill()

                ctx1.font="20pt Calibri"
                ctx1.fillStyle = 'black'
                ctx1.textAlign = 'center'

                ctx1.fillText(m,center1,center2)
            }
        }


        const balls = []
        while (balls.length < 2) {
            const radius = Math.random() * 10 + 80 // 10 ~ 30
            const x = Math.random() * (canvas.width - radius - radius) + radius
            const y = Math.random() * (canvas.height - radius - radius) + radius

            let flag = true
            for (let i = 0; i < balls.length; i++) {
                const dx = x - balls[i].x
                const dy = y - balls[i].y
                const dl = Math.sqrt(dx * dx + dy * dy)
                if (dl <= radius + balls[i].radius) {
                    flag = false
                }
            }
            if (flag) {
                balls.push(new Ball(x, y, radius))
            }
        }

        function drawFrame () {
            window.requestAnimationFrame(drawFrame, canvas)
            canvas.height = canvas.height




            for (let i = 0; i < balls.length; i++) {
                const ball = balls[i]


                for (let j = i + 1; j < balls.length; j++) {
                    const dx = ball.x - balls[j].x
                    const dy = ball.y - balls[j].y
                    const dl = Math.sqrt(dx * dx + dy * dy)
                    if (dl <= ball.radius + balls[j].radius) {
                        ball.flag === false ? ball.angle = ball.angle - 180 : ''
                        balls[j].flag === false ? balls[j].angle = balls[j].angle - 180 : ''
                        ball.flag = balls[j].flag = true
                    }
                }


                if (ball.flag === false) {
                    if (ball.x + ball.radius > canvas.width) {
                        ball.angle = 180 - ball.angle
                    }
                    if (ball.x - ball.radius < 0) {
                        ball.angle = -(180 + ball.angle)
                    }
                    if (ball.y - ball.radius < 0 || ball.y + ball.radius > canvas.height) {
                        ball.angle = -ball.angle
                    }
                }

                ball.x += ball.speed * Math.cos(ball.angle * Math.PI / 180)
                ball.y -= ball.speed * Math.sin(ball.angle * Math.PI / 180)

                var colors=new Array(4)
                colors[0]='#EE82EE'
                colors[1]='orange'
                colors[2]='#87CEFA'
                colors[3]='yellow'

                var center1=ball.x
                var center2=ball.y

                var text=['骑行次数多','消费高']
                var m=text[i]
                ball.draw(ctx,colors[i],center1,center2,m)
                ball.flag = false
            }
        }

        drawFrame()
    }

</script>

<script>

    function f2(){

        const canvas = document.getElementById('canvas2')
        const ctx = canvas.getContext('2d')
        const ctx1=canvas.getContext('2d')



        class Ball {
            constructor(x, y, radius) {
                this.x = x
                this.y = y
                this.radius = radius
                this.angle = Math.random() * 180
                this.speed = 1
                this.flag = false
            }

            draw(ctx,color,center1,center2,m) {
                ctx.beginPath()
                ctx.arc(this.x, this.y, this.radius, 0, 2 * Math.PI)
                ctx.closePath()
                ctx.fillStyle = color
                ctx.fill()

                ctx1.font="20pt Calibri"
                ctx1.fillStyle = 'black'
                ctx1.textAlign = 'center'

                ctx1.fillText(m,center1,center2)
            }
        }


        const balls = []
        while (balls.length < 2) {
            const radius = Math.random() * 10 + 80 // 10 ~ 30
            const x = Math.random() * (canvas.width - radius - radius) + radius
            const y = Math.random() * (canvas.height - radius - radius) + radius

            let flag = true
            for (let i = 0; i < balls.length; i++) {
                const dx = x - balls[i].x
                const dy = y - balls[i].y
                const dl = Math.sqrt(dx * dx + dy * dy)
                if (dl <= radius + balls[i].radius) {
                    flag = false
                }
            }
            if (flag) {
                balls.push(new Ball(x, y, radius))
            }
        }

        function drawFrame () {
            window.requestAnimationFrame(drawFrame, canvas)
            canvas.height = canvas.height




            for (let i = 0; i < balls.length; i++) {
                const ball = balls[i]


                for (let j = i + 1; j < balls.length; j++) {
                    const dx = ball.x - balls[j].x
                    const dy = ball.y - balls[j].y
                    const dl = Math.sqrt(dx * dx + dy * dy)
                    if (dl <= ball.radius + balls[j].radius) {
                        ball.flag === false ? ball.angle = ball.angle - 180 : ''
                        balls[j].flag === false ? balls[j].angle = balls[j].angle - 180 : ''
                        ball.flag = balls[j].flag = true
                    }
                }


                if (ball.flag === false) {
                    if (ball.x + ball.radius > canvas.width) {
                        ball.angle = 180 - ball.angle
                    }
                    if (ball.x - ball.radius < 0) {
                        ball.angle = -(180 + ball.angle)
                    }
                    if (ball.y - ball.radius < 0 || ball.y + ball.radius > canvas.height) {
                        ball.angle = -ball.angle
                    }
                }

                ball.x += ball.speed * Math.cos(ball.angle * Math.PI / 180)
                ball.y -= ball.speed * Math.sin(ball.angle * Math.PI / 180)

                var colors=new Array(4)
                colors[0]='#EE82EE'
                colors[1]='orange'
                colors[2]='#87CEFA'
                colors[3]='yellow'

                var center1=ball.x
                var center2=ball.y

                var text=['骑行时间长','骑行路程长']
                var m=text[i]
                ball.draw(ctx,colors[i],center1,center2,m)
                ball.flag = false
            }
        }

        drawFrame()
    }

</script>

<script>

    function f3(){

        const canvas = document.getElementById('canvas3')
        const ctx = canvas.getContext('2d')
        const ctx1=canvas.getContext('2d')



        class Ball {
            constructor(x, y, radius) {
                this.x = x
                this.y = y
                this.radius = radius
                this.angle = Math.random() * 180
                this.speed = 1
                this.flag = false
            }

            draw(ctx,color,center1,center2,m) {
                ctx.beginPath()
                ctx.arc(this.x, this.y, this.radius, 0, 2 * Math.PI)
                ctx.closePath()
                ctx.fillStyle = color
                ctx.fill()

                ctx1.font="25pt Calibri"
                ctx1.fillStyle = 'black'
                ctx1.textAlign = 'center'

                ctx1.fillText(m,center1,center2)
            }
        }


        const balls = []
        while (balls.length < 1) {
            const radius = Math.random() * 10 + 90 // 10 ~ 30
            const x = Math.random() * (canvas.width - radius - radius) + radius
            const y = Math.random() * (canvas.height - radius - radius) + radius

            let flag = true
            for (let i = 0; i < balls.length; i++) {
                const dx = x - balls[i].x
                const dy = y - balls[i].y
                const dl = Math.sqrt(dx * dx + dy * dy)
                if (dl <= radius + balls[i].radius) {
                    flag = false
                }
            }
            if (flag) {
                balls.push(new Ball(x, y, radius))
            }
        }

        function drawFrame () {
            window.requestAnimationFrame(drawFrame, canvas)
            canvas.height = canvas.height




            for (let i = 0; i < balls.length; i++) {
                const ball = balls[i]


                for (let j = i + 1; j < balls.length; j++) {
                    const dx = ball.x - balls[j].x
                    const dy = ball.y - balls[j].y
                    const dl = Math.sqrt(dx * dx + dy * dy)
                    if (dl <= ball.radius + balls[j].radius) {
                        ball.flag === false ? ball.angle = ball.angle - 180 : ''
                        balls[j].flag === false ? balls[j].angle = balls[j].angle - 180 : ''
                        ball.flag = balls[j].flag = true
                    }
                }


                if (ball.flag === false) {
                    if (ball.x + ball.radius > canvas.width) {
                        ball.angle = 180 - ball.angle
                    }
                    if (ball.x - ball.radius < 0) {
                        ball.angle = -(180 + ball.angle)
                    }
                    if (ball.y - ball.radius < 0 || ball.y + ball.radius > canvas.height) {
                        ball.angle = -ball.angle
                    }
                }

                ball.x += ball.speed * Math.cos(ball.angle * Math.PI / 180)
                ball.y -= ball.speed * Math.sin(ball.angle * Math.PI / 180)

                var colors=new Array(4)
                colors[0]='#87CEFA'
                colors[1]='orange'
                colors[2]='#87CEFA'
                colors[3]='yellow'

                var center1=ball.x
                var center2=ball.y

                var text=['年龄大']
                var m=text[i]
                ball.draw(ctx,colors[i],center1,center2,m)
                ball.flag = false
            }
        }

        drawFrame()
    }

</script>

<script>

    function f4(){

        const canvas = document.getElementById('canvas4')
        const ctx = canvas.getContext('2d')
        const ctx1=canvas.getContext('2d')



        class Ball {
            constructor(x, y, radius) {
                this.x = x
                this.y = y
                this.radius = radius
                this.angle = Math.random() * 180
                this.speed = 1
                this.flag = false
            }

            draw(ctx,color,center1,center2,m) {
                ctx.beginPath()
                ctx.arc(this.x, this.y, this.radius, 0, 2 * Math.PI)
                ctx.closePath()
                ctx.fillStyle = color
                ctx.fill()

                ctx1.font="25pt Calibri"
                ctx1.fillStyle = 'black'
                ctx1.textAlign = 'center'

                ctx1.fillText(m,center1,center2)
            }
        }


        const balls = []
        while (balls.length < 1) {
            const radius = Math.random() * 10 + 90 // 10 ~ 30
            const x = Math.random() * (canvas.width - radius - radius) + radius
            const y = Math.random() * (canvas.height - radius - radius) + radius

            let flag = true
            for (let i = 0; i < balls.length; i++) {
                const dx = x - balls[i].x
                const dy = y - balls[i].y
                const dl = Math.sqrt(dx * dx + dy * dy)
                if (dl <= radius + balls[i].radius) {
                    flag = false
                }
            }
            if (flag) {
                balls.push(new Ball(x, y, radius))
            }
        }

        function drawFrame () {
            window.requestAnimationFrame(drawFrame, canvas)
            canvas.height = canvas.height




            for (let i = 0; i < balls.length; i++) {
                const ball = balls[i]


                for (let j = i + 1; j < balls.length; j++) {
                    const dx = ball.x - balls[j].x
                    const dy = ball.y - balls[j].y
                    const dl = Math.sqrt(dx * dx + dy * dy)
                    if (dl <= ball.radius + balls[j].radius) {
                        ball.flag === false ? ball.angle = ball.angle - 180 : ''
                        balls[j].flag === false ? balls[j].angle = balls[j].angle - 180 : ''
                        ball.flag = balls[j].flag = true
                    }
                }


                if (ball.flag === false) {
                    if (ball.x + ball.radius > canvas.width) {
                        ball.angle = 180 - ball.angle
                    }
                    if (ball.x - ball.radius < 0) {
                        ball.angle = -(180 + ball.angle)
                    }
                    if (ball.y - ball.radius < 0 || ball.y + ball.radius > canvas.height) {
                        ball.angle = -ball.angle
                    }
                }

                ball.x += ball.speed * Math.cos(ball.angle * Math.PI / 180)
                ball.y -= ball.speed * Math.sin(ball.angle * Math.PI / 180)

                var colors=new Array(4)
                colors[0]='yellow'
                colors[1]='orange'
                colors[2]='#87CEFA'
                colors[3]='yellow'

                var center1=ball.x
                var center2=ball.y

                var text=['各项指标小']
                var m=text[i]
                ball.draw(ctx,colors[i],center1,center2,m)
                ball.flag = false
            }
        }

        drawFrame()
    }

</script>


<script type="text/javascript">
    window.onload=function(){
        f0()
        f1()
        f2()
        f3()
        f4()
    }
</script>


</body>
</html>




